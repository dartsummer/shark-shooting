sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (projectile, enemy) {
    projectile.destroy()
    enemy.destroy(effects.disintegrate, 1)
    music.pewPew.play()
    info.changeScoreBy(100)
})
// game loop and events
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile2 = sprites.createProjectileFromSprite(img`
        ..............fffcc.............
        ..............fbbddc............
        ...............fbbddc...........
        ccc............fcbbccf..........
        cbbcc.........ffccccccffffff....
        .cbbdc.....fffcbbbbbbbbbbbbbff..
        .fbbddc..ffcccbbbbcbcbbbbbbbbbff
        ..fbbdfffcccccbbbcbcbbffbbbbbcbf
        ..fcbbbcccccccbbbcbcb1ff1111bbbf
        ..fccbcccccccccbbbbbb11111111bf.
        .fcbbfffccccccccbbbb11cc33cccf..
        .fbbf...cbdbcccccbbb111c131cf...
        fbbf.....ccdddddfbbbc111c33f....
        fff........ccddfbbdbf1111ff.....
        .............cfbbdbfccccc.......
        ..............fffff.............
        `, player_plane, projectile_speed, 0)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (player2, enemy2) {
    game.over(false)
})
let enemy_plane: Sprite = null
let running_animation = false
let projectile2: Sprite = null
let projectile_speed = 0
let player_plane: Sprite = null
// sprites
player_plane = sprites.create(img`
    ..............fffcc.............
    ..............fbbddc............
    ...............fbbddc...........
    ccc............fcbbccf..........
    cbbcc.........ffccccccffffff....
    .cbbdc.....fffcbbbbbbbbbbbbbff..
    .fbbddc..ffcccbbbbcbcbbbbbbbbbff
    ..fbbdfffcccccbbbcbcbbffbbbbbcbf
    ..fcbbbcccccccbbbcbcb1ff1111bbbf
    ..fccbcccccccccbbbbbb11111111bf.
    .fcbbfffccccccccbbbb11cc33cccf..
    .fbbf...cbdbcccccbbb111c131cf...
    fbbf.....ccdddddfbbbc111c33f....
    fff........ccddfbbdbf1111ff.....
    .............cfbbdbfccccc.......
    ..............fffff.............
    `, SpriteKind.Player)
controller.moveSprite(player_plane)
player_plane.setStayInScreen(true)
// setup
let backgroud_one = sprites.create(assets.image`myImage`, 0)
backgroud_one.setPosition(80, 60)
backgroud_one.z = -10
// variables
let enemy_speed = -75
projectile_speed = 150
game.onUpdate(function () {
    if (player_plane.vx > 10 || player_plane.vy > 10) {
        running_animation = true
        animation.runImageAnimation(
        player_plane,
        [img`
            ..............fffcc.............
            ..............fcbddcc...........
            ...............fbbddcc..........
            ...............fcbbccf..........
            ..ccc.........ffccccccfffff.....
            ..cbbcc....fffcbbbbcbbbbbbbff...
            ...cbbdc.ffcccbbbbcbcbbbbbbbbf..
            ...fbbdcfcccccbbbcbcbbffbbbbbbff
            ....fbbffcccccbbbbbcb1ff11bbbcbf
            ....fcbbcccccccbbbbb11111111bbbf
            ....fcccccccccccbbbb11cc33111bf.
            ...fcbbffbdbcccccbbb111c13cccf..
            ...fbbf..ccddddcfbbbc111c31cf...
            ..fbbf.....ccdccbbdbf111cccf....
            ..fff........ccbbdcfcccc........
            ..............fffff.............
            `,img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ccc............fcbbccf..........
            cbbcc.........ffccccccffffff....
            .cbbdc.....fffcbbbbbbbbbbbbbff..
            .fbbddc..ffcccbbbbcbcbbbbbbbbbff
            ..fbbdfffcccccbbbcbcbbffbbbbbcbf
            ..fcbbbcccccccbbbcbcb1ff1111bbbf
            ..fccbcccccccccbbbbbb11111111bf.
            .fcbbfffccccccccbbbb11cc33cccf..
            .fbbf...cbdbcccccbbb111c131cf...
            fbbf.....ccdddddfbbbc111c33f....
            fff........ccddfbbdbf1111ff.....
            .............cfbbdbfccccc.......
            ..............fffff.............
            `,img`
            ..............fffc..............
            ..............fbddcc............
            ..ccc.........ffbddbc...........
            ..cbbc.........fcbbccf..........
            ...cbdc.......ffccccccfffffff...
            ...fbdc....fffcbbbbbbbbbbbbbcff.
            ....fbdc.ffcccbbbbbbcbbbbbbbbbcf
            ....fcdffcccccbbbcbcbbbffbbbbcbf
            ....fcbbccccccbbbcbcbbbff1111bbf
            ...fcbbccccccccbbbcbb11111111bf.
            ...fbbfffcccccccbbbb11bc33cccf..
            ..fbbf..cbdbcccccbbb111c131cf...
            ..fff....cbdddddccbbc111c33f....
            ..........ccbddccbbdf1111ff.....
            ............ccfbbbdfccccc.......
            ..............fffff.............
            `,img`
            ..............fffcc.............
            ..............fbbddc............
            ...............fbbddc...........
            ccc............fcbbccf..........
            cbbcc.........ffccccccffffff....
            .cbbdc.....fffcbbbbbbbbbbbbbff..
            .fbbddc..ffcccbbbbcbcbbbbbbbbbff
            ..fbbdfffcccccbbbcbcbbffbbbbbcbf
            ..fcbbbcccccccbbbcbcb1ff1111bbbf
            ..fccbcccccccccbbbbbb11111111bf.
            .fcbbfffccccccccbbbb11cc33cccf..
            .fbbf...cbdbcccccbbb111c131cf...
            fbbf.....ccdddddfbbbc111c33f....
            fff........ccddfbbdbf1111ff.....
            .............cfbbdbfccccc.......
            ..............fffff.............
            `],
        200,
        false
        )
    } else {
        running_animation = false
    }
})
game.onUpdateInterval(1000, function () {
    enemy_plane = sprites.create(img`
        ..............bbbbbbb...........
        ...........bb66663333baa........
        .........bb3367776333663aa......
        ........b33333888333389633aa....
        .......b3333333333333389633aa...
        ......b34443333333333338633bae..
        .....b3455433333333334443333ae..
        ....b33322333dddd3333455233daee.
        ...b3d333333dd3bbbb33322333dabe.
        ..b3d333333d3bb33bb33333333da4e.
        ..bd33333333b33aab3333333223a4ee
        .b3d3663333b33aab33366332442b4ee
        .bd3b983333a3aa3333387633ee3b4ee
        .bd6983333baaa333333387633bb4bee
        b3d6833333bba333333333863ba44ebe
        bdd3333333bb3333333333333a44bebe
        add666633333322333366333ba44bbbe
        ad67776333332442336983d3a444b4e.
        add888b333333ee3369833d3a44b44e.
        add333333333333336833d3a444b4e..
        a3dd3333344433333dddd3a444b44e..
        ab33ddd325543333dd33aa444b44e...
        .eabb3dd32233333baaa4444b44e....
        .ebabb3d333d33baa444443b44e.....
        ..ebaab3ddd3aaa4444433b44e......
        ..eebbaab33a44444333b444e.......
        ...eeebbaab444b333b4444e........
        ....ebeeebbbbbbbb4444ee.........
        .....eebbbb44444444ee...........
        .......eeebbb444eee.............
        ..........eeeeee................
        ................................
        `, SpriteKind.Enemy)
    enemy_plane.setVelocity(enemy_speed, 0)
    enemy_plane.setPosition(160, randint(5, 155))
    enemy_plane.setFlag(SpriteFlag.AutoDestroy, true)
})
game.onUpdateInterval(1000, function () {
    for (let index = 0; index < 10; index++) {
        if (info.score() == 1000) {
            enemy_plane = sprites.create(img`
                ...........ccccc66666...........
                ........ccc4444444444666........
                ......cc444444444bb4444466......
                .....cb4444bb4444b5b444444b.....
                ....eb4444b5b44444b44444444b....
                ...ebb44444b4444444444b444446...
                ..eb6bb444444444bb444b5b444446..
                ..e6bb5b44444444b5b444b44bb44e..
                .e66b4b4444444444b4444444b5b44e.
                .e6bb444444444444444444444bb44e.
                eb66b44444bb444444444444444444be
                eb66bb444b5b44444444bb44444444be
                fb666b444bb444444444b5b4444444bf
                fcb666b44444444444444bb444444bcf
                .fbb6666b44444444444444444444bf.
                .efbb66666bb4444444444444444bfe.
                .86fcbb66666bbb44444444444bcc688
                8772effcbbbbbbbbbbbbbbbbcfc22778
                87722222cccccccccccccccc22226678
                f866622222222222222222222276686f
                fef866677766667777776667777fffef
                fbff877768f86777777666776fffffbf
                fbeffeefffeff7766688effeeeefeb6f
                f6bfffeffeeeeeeeeeeeeefeeeeebb6e
                f66ddfffffeeeffeffeeeeeffeedb46e
                .c66ddd4effffffeeeeeffff4ddb46e.
                .fc6b4dddddddddddddddddddb444ee.
                ..ff6bb444444444444444444444ee..
                ....ffbbbb4444444444444444ee....
                ......ffebbbbbb44444444eee......
                .........fffffffcccccee.........
                ................................
                `, SpriteKind.Enemy)
            enemy_plane.setVelocity(enemy_speed, 0)
            enemy_plane.setPosition(160, randint(5, 155))
            enemy_plane.setFlag(SpriteFlag.AutoDestroy, true)
        }
    }
})
